<%= search_form_for @q, url: users_path, method: :get, html: { class: "max-w-2xl mx-auto mb-6 p-4 bg-white rounded shadow" } do |f| %>
  <div class="flex flex-col md:flex-row md:space-x-4 space-y-4 md:space-y-0">
    <div class="flex-1">
      <%= f.label :email_cont, "Search Email", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.search_field :email_cont, class: "w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:border-blue-300" %>
    </div>
    <div class="flex-1">
      <%= f.label :role_cont, "Seach by Role", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.search_field :role_cont, class: "w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:border-blue-300" %>
    </div>
    <div class="flex items-end">
      <%= f.submit "Search", class: "bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700" %>
    </div>
    <div class="flex items-end">
      <%= link_to "Create User", new_user_path, class: "bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700" %>
    </div>
  </div>
<% end %>


<table class="w-full border-collapse">
  <thead>
    <tr class="bg-gray-200">
      <th class="border border-gray-300 text-center px-4 py-2">ID</th>
      <th class="border border-gray-300 text-center px-4 py-2">
        <%= sort_link(@q, :email, "Email") %>
      </th>
      <th class="border border-gray-300 text-center px-4 py-2">
        <%= sort_link(@q, :role, "Role") %>
      </th>
      <th class="border border-gray-300 text-center px-4 py-2">Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @users.each do |user| %>
      <tr class="hover:bg-gray-100">
        <td class="border border-gray-300 px-4 py-2 text-center">
          <%= link_to user.id, user_path(user), class: "text-blue-600 hover:underline hover:text-blue-800" %>
        </td>
        <td class="border border-gray-300 px-4 py-2 text-center"><%= user.email %></td>
        <td class="border border-gray-300 px-4 py-2 text-center">
          <%= user.role %>
        </td>
        <td class="border border-gray-300 px-4 py-2 text-center">
          <div class="flex items-center justify-center space-x-4">
            <%= link_to "Edit", edit_user_path(user), class: "text-blue-600 hover:underline hover:text-blue-800" %>
          </div>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
